{% extends "layout.html" %}

{% block body %}
<h2>Races</h2>

{% if player_ranking is defined %}
<br>
<div class="col-md-4">
  <h3>Player ranking</h3>
    <table class="col align-self-center">
      {% for player in player_ranking %}        
        <tr>
          <td><h5>{{ player.Player }}</h5></td>
          <td class="text-center">{{ player.Wins }}</td>
          </tr>
        {% endfor %}
      </table>
  </div>

{% endif %}

<br>
<div class="table-responsive table-sm">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Player</th>
        <th scope="col">Track</th>
        <th scope="col">Placement</th>
        <th scope="col">Character</th>
        <th scope="col">Finish time</th>
        <th scope="col">Delete race</th>
      </tr>
    </thead>
    <tbody>
      {% for race in races %}
      <tr>
        <th scope="row">{{ race.id }}</th>
        <td>{{ race.player}}</td>
        <td>{{ race.track }}</td>
        <td>{{ race.placement }}</td>
        <td>{{ race.character }}</td>
        <td>{{ race.finish_time }}</td>
        <td>
          <form action="{{url_for('races_deleteone', id=race.id)}}" method="POST">
            <input type="submit" value="Delete">
          </form>  
        </td>
      </tr>
      {% endfor %}      
    </tbody>
  </table>
</div>
{% endblock %}